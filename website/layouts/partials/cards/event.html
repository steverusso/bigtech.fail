{{ $eventIcon := partialCached "icon" (dict "name" "event" "size" 20) "event-card-event" }}

{{ $date := .Date.Format "Jan 2, 2006" }}
{{ $preview := .Params.preview | default .Summary | truncate 90 }}

<!--
 An event card is a card link containing two top level sections:
 1) the header (image, title, meta) and 2) the text preview.
-->
<a class="event card" href="{{ .RelPermalink }}" title="{{ .Title }}">
	<!-- Image, title, meta -->
	<header>
		<img src="{{ .Params.image }}" loading="lazy">

		<div>
			<h2>{{ .Title }}</h2>
			<u>{{ $eventIcon }} {{ $date }}</u>
		</div>
	</header>

	<!-- Preview -->
	<p>{{ $preview }}</p>
</a>
