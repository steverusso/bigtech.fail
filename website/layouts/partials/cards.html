<!--
 An event card is a card link containing two top level sections:
 1) the header (image, title, meta) and 2) the text preview.
-->
{{ define "partials/cards/event" }}
	<a class="event card" href="{{ .RelPermalink }}" title="{{ .Title }}">
		<header>
			<img src="{{ .Params.image }}" loading="lazy">
			<h2 data-t="{{ .Title }}">{{ .Date.Format `2 Jan 2006` }}</h2>
		</header>

		<p>{{ .Summary | truncate 80 }}</p>
	</a>
{{ end }}

<!--
 A profile card is a card link immediately followed by the profile's online
 links. The card has two top level sections: the header (propic, name, optional
 nickname) and the short bio preview. The profile's online links must follow
 the card since it's illegal for `a` elements to contain other `a` elements.
-->
{{ define "partials/cards/profile" }}
	<a class="profile card" href="{{ .RelPermalink }}">
		<header>
			<img src="{{ partialCached `profile-pic.html` . .Title }}" loading="lazy">
			<h2 {{ with .Params.aka }}data-aka="{{ . }}"{{ end }}>{{ .Title }}</h2>
		</header>

		<p>{{ .Summary | truncate 80 }}</p>
	</a>

	{{ partialCached "profile-links.html" .Params.socials .Title }}
{{ end }}

{{ define "partials/cards/alttech" }}
	<a class="alttech card" href="{{ .RelPermalink }}">
		<header>
			<img src="/img/logos/{{ .Title | anchorize }}.png" loading="lazy">
			<h2>{{ .Title }}</h2>
		</header>

		<p>{{ .Summary | truncate 95 | plainify }}</p>
	</a>
{{ end }}

{{ define "partials/cards/bigtech" }}
	<a class="card" href="{{ .RelPermalink }}">
		<header>
			<img src="/img/logos/{{ .Title | anchorize }}.png" loading="lazy">

			<div>
				<h2>{{ .Title }}</h2>
				<i class="caption">{{ .Params.caption }}</i>
			</div>
		</header>

		<p>{{ .Summary | truncate 125 | plainify | safeHTML }}</p>
	</a>
{{ end }}

{{ define "partials/tag-card" }}
	{{ with site.GetPage (printf "/tags/%s" .) }}
		<a class="tag card" href="{{ .RelPermalink }}">
			{{ with .Params.image }}
				<img src="{{ . }}" loading="lazy">
			{{ end }}

			{{ .LinkTitle | default ($ | title) }}

			<u>&#10132;</u>
		</a>
	{{ end }}
{{ end }}

{{ define "partials/bigtech-chip" }}
	<a href="/{{ . }}/" class="chip">
		<img src="/img/logos/{{ . }}.png" loading="lazy">
		{{ index site.Data.bigtechNames . | default (. | title) }}
	</a>
{{ end }}
